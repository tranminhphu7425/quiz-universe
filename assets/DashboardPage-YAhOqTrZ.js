import{c as j,u as v,r as c,j as e,m as h,L as n,B as x,F as b,H as m,i as w,T as y}from"./index-f1k6-leX.js";import{L as k}from"./LoadingState-D3a9kr5e.js";import{F as L,f as F,a as T}from"./favoriteApi-B27G1Nay.js";import{O as S,T as B,L as g}from"./OrbitingSkills-CCbgP1Nn.js";import{A as $}from"./arrow-right-DREsCoUQ.js";import{T as A}from"./trash-2-BGf7zRn_.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],D=j("folder-plus",C);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],q=j("star",H);function U(){const s=v(),[l,r]=c.useState(!1),[a,p]=c.useState([]),d=s?.user,u=localStorage.getItem("auth_token");c.useEffect(()=>{(async()=>{try{const i=await F(d?.id,u);p(i)}catch(i){console.error(i)}})()},[]),c.useEffect(()=>{console.log("Favorite subjects updated:",a)},[a]);async function f(t){try{await T.delete(`/subjects/${t.id}/favorite?userId=${d?.id}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}}),p(i=>i.filter(N=>N.id!==t.id))}catch(i){console.error("Failed to remove favorite:",i)}}return e.jsxs("div",{className:"relative z-9 min-h-screen bg-slate-50 dark:bg-slate-900",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 via-green-600 to-emerald-500 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),e.jsx(S,{}),e.jsx("div",{className:"pointer-events-none absolute -left-24 -top-24 h-72 w-72 rounded-full bg-white/10 blur-2xl dark:bg-emerald-400/10"}),e.jsx("div",{className:"pointer-events-none absolute -right-16 top-10 h-64 w-64 rounded-full bg-white/10 blur-2xl dark:bg-purple-400/10"}),e.jsxs("div",{className:"relative z-10 mx-auto flex max-w-7xl flex-col items-center gap-8 px-6 py-14 md:flex-row md:justify-between",children:[e.jsxs(h.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:160,damping:18},children:[e.jsxs("div",{className:"mb-3 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold ring-1 ring-white/20 backdrop-blur",children:[e.jsx(q,{className:"h-4 w-4"})," B·∫£ng ƒëi·ªÅu khi·ªÉn"]}),e.jsx(B,{text:`Xin ch√†o${d?.name?`, ${d.name}`:"!"} üëã`,className:"text-[2rem] md:text-[2.4rem] font-black leading-tight text-white"}),e.jsx("p",{className:"mt-1 max-w-xl text-white/90",children:"T√≥m t·∫Øt nhanh nh·ªØng b·ªô c√¢u h·ªèi b·∫°n y√™u th√≠ch v√† b·∫°n ƒë√£ t·∫°o."})]}),e.jsxs(h.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{delay:.05},className:"flex flex-wrap items-center gap-3",children:[e.jsxs(n,{to:"/subjects",className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-sm text-white ring-1 ring-white/30 hover:bg-white/15 dark:bg-white/5 dark:ring-white/10",children:[e.jsx(x,{className:"h-4 w-4"})," Duy·ªát m√¥n h·ªçc"]}),e.jsxs(n,{to:"/app/questions/create",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-5 py-2 text-sm font-semibold text-emerald-950 shadow hover:brightness-105",children:[e.jsx(L,{className:"h-4 w-4"})," T·∫°o b·ªô c√¢u h·ªèi"]})]}),e.jsx(b,{distance:12,duration:7,className:"pointer-events-none absolute top-6 left-6",children:e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-amber-300 to-rose-300 px-3 py-1 shadow-lg -rotate-6",children:e.jsx("span",{className:"text-xs font-black text-rose-700",children:"DASH"})})}),e.jsx(b,{distance:10,duration:6,className:"pointer-events-none absolute top-6 right-8",children:e.jsx("div",{className:"rounded-full bg-gradient-to-br from-purple-400 to-indigo-400 p-3 shadow-xl rotate-12",children:e.jsx(m,{className:"h-4 w-4 text-white"})})})]})]}),e.jsx("section",{className:"relative z-9 mx-auto max-w-7xl px-6 mt-6",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(o,{icon:e.jsx(m,{className:"h-4 w-4"}),label:"Y√™u th√≠ch",value:a.length,hint:"b·ªô c√¢u h·ªèi"}),e.jsx(o,{icon:e.jsx(g,{className:"h-4 w-4"}),label:"C·ªßa t√¥i",value:1,hint:"b·ªô c√¢u h·ªèi"}),e.jsx(o,{icon:e.jsx(x,{className:"h-4 w-4"}),label:"T·ªïng s·ªë c√¢u",value:1,hint:"∆∞·ªõc t√≠nh"}),e.jsx(o,{icon:e.jsx(w,{className:"h-4 w-4"}),label:"Ho·∫°t ƒë·ªông",value:new Date().toLocaleDateString(),hint:"ng√†y c·∫≠p nh·∫≠t"})]})}),e.jsx("main",{className:"relative mx-auto max-w-7xl px-6 py-10",children:l?e.jsx(k,{count:6}):e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("section",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[e.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-base font-bold text-emerald-900 dark:text-emerald-200 inline-flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"})," B·ªô c√¢u h·ªèi y√™u th√≠ch"]}),e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a.length," m·ª•c"]})]}),a.length===0?e.jsx(z,{title:"Ch∆∞a c√≥ b·ªô c√¢u h·ªèi y√™u th√≠ch",desc:"H√£y ƒë√°nh d·∫•u ‚ô• ·ªü danh s√°ch ƒë·ªÅ ho·∫∑c c√¢u h·ªèi ƒë·ªÉ l∆∞u t·∫°i ƒë√¢y.",action:e.jsxs(n,{to:"/subjects",className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-3 py-1.5 text-sm text-white hover:brightness-110",children:[e.jsx(x,{className:"h-4 w-4"})," Duy·ªát m√¥n"]})}):e.jsx("ul",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:a.map(t=>e.jsx("li",{className:"py-3",children:e.jsx(E,{s:t,onRemove:()=>f(t),primaryAction:{to:t.id?`/questions/subject/${t.id}`:"#",label:"L√†m ngay"}})},t.id))})]}),e.jsx("section",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:e.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-base font-bold text-emerald-900 dark:text-emerald-200 inline-flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"})," B·ªô c√¢u h·ªèi c·ªßa t√¥i"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(n,{to:"/app/questions/create",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1.5 text-xs font-semibold text-emerald-950 shadow hover:brightness-105",children:[e.jsx(D,{className:"h-4 w-4"})," T·∫°o m·ªõi"]})})]})})]})})]})}function o({icon:s,label:l,value:r,hint:a}){return e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:140,damping:16},className:"rounded-2xl border border-white/40 bg-white/80 p-4 shadow-sm backdrop-blur-md dark:border-slate-700 dark:bg-slate-900/60",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"grid h-9 w-9 place-items-center rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200",children:s}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:l}),e.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:r}),a&&e.jsx("div",{className:"text-[11px] text-slate-400 dark:text-slate-500",children:a})]})]})})}function z({title:s,desc:l,action:r}){return e.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 p-6 text-center dark:border-slate-700",children:[e.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:s}),e.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:l}),r&&e.jsx("div",{className:"mt-3",children:r})]})}function E({s,onRemove:l,primaryAction:r,removableLabel:a="B·ªè kh·ªèi y√™u th√≠ch"}){return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"grid h-9 w-9 place-items-center rounded-lg bg-emerald-50 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200",children:e.jsx(g,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"truncate text-sm font-semibold text-slate-800 dark:text-slate-100",children:s.name}),s.name&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-emerald-100 px-2 py-0.5 text-[11px] font-medium text-emerald-800 ring-1 ring-emerald-200 dark:bg-emerald-500/20 dark:text-emerald-100 dark:ring-emerald-800",children:[e.jsx(y,{className:"h-3 w-3"})," ",s.code]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[r&&e.jsxs(n,{to:s.id?`/questions/subject/${s.id}`:"#",className:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1.5 text-xs text-white hover:brightness-110",children:[r.label," ",e.jsx($,{className:"h-3.5 w-3.5"})]}),l&&e.jsxs("button",{onClick:l,className:"inline-flex items-center gap-1 rounded-full bg-rose-50 px-3 py-1.5 text-xs text-rose-700 ring-1 ring-rose-200 hover:bg-rose-100 dark:bg-rose-900/20 dark:text-rose-300 dark:ring-rose-800",children:[e.jsx(A,{className:"h-3.5 w-3.5"})," ",a]})]})]})]})}export{U as default};
