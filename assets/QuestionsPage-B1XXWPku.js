import{c as R,j as e,e as re,r as m,f as le,m as B,S as ne,_ as L}from"./index-CYNZ7a34.js";import{a as ie}from"./subjectApi-jfXJ9kD9.js";import de from"./subjects-DSQrsEfM.js";import{A as oe}from"./arrow-right-nuLLQ6u7.js";import{C as ce}from"./circle-check-BhBeEnMP.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xe=R("circle-x",me);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],be=R("layout-grid",he);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ge=R("refresh-ccw",ue),pe=(a,s,n)=>{const l=a[s];return l?typeof l=="function"?l():Promise.resolve(l):new Promise((d,k)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(k.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function fe({count:a=10}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("div",{className:"h-9 w-28 rounded-xl bg-slate-200/80 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"h-9 w-36 rounded-xl bg-slate-200/80 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"h-9 w-44 rounded-xl bg-slate-200/80 dark:bg-slate-700 animate-pulse"}),e.jsxs("div",{className:"ml-auto inline-flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[e.jsx(re,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Đang tải câu hỏi…"})]})]}),Array.from({length:a}).map((s,n)=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[e.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[e.jsx("div",{className:"h-6 w-6 rounded-md bg-slate-200 dark:bg-slate-700 animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-4/5 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"h-4 w-2/3 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"})]}),e.jsx("div",{className:"h-7 w-24 rounded-lg bg-slate-200 dark:bg-slate-700 animate-pulse"})]}),e.jsx("div",{className:"grid gap-2",children:Array.from({length:4}).map((l,d)=>e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border p-3 animate-pulse border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"mt-1 h-4 w-4 rounded-full bg-slate-200 dark:bg-slate-700"}),e.jsx("div",{className:"h-4 w-3/4 rounded bg-slate-200 dark:bg-slate-700"})]},d))})]},n))]})}const je="http://localhost:8080/api";async function ke(a,s){const n=await fetch(`${je}/questions/subject/${a}`,{signal:s});if(!n.ok){const d=await n.text().catch(()=>"");throw new Error(d||`HTTP ${n.status}`)}const l=await n.json();return Array.isArray(l)?l:[]}const ve=/\.{5,}/g;function ye(a){const s=[];let n=0,l;for(;(l=ve.exec(a))!==null;){const d=l.index;d>n&&s.push({type:"text",text:a.slice(n,d)}),s.push({type:"blank"}),n=d+l[0].length}return n<a.length&&s.push({type:"text",text:a.slice(n)}),s.length?s:[{type:"text",text:a}]}function v(a){return(a??"").trim().replace(/\s+/g," ").toLowerCase()}function Ie(){const[a,s]=m.useState({}),[n,l]=m.useState({}),[d,k]=m.useState(!1),[b,f]=m.useState({}),{subjectId:y}=le(),[p,E]=m.useState([]),[P,o]=m.useState(!1),[N,T]=m.useState(!0),[x,g]=m.useState(null),[u,I]=m.useState(""),[V,Ce]=m.useState(!1),G=m.useRef(null),F=m.useRef(!1),[j,C]=m.useState(1),[H,X]=m.useState("");m.useEffect(()=>{console.log(y)},[y]);const K=async()=>{if(y==null)return;const t=new AbortController;T(!0),g(null);const i=Number(y);return(async()=>{const[r,c]=await Promise.allSettled([ke(i,t.signal),ie(i)]);if(r.status==="fulfilled")E(r.value);else if(r.reason?.name!=="AbortError"){g("Không thể lấy câu hỏi từ API. Đang dùng dữ liệu cục bộ!");try{const h=await pe(Object.assign({"../../assets/data/questionssubject4.json":()=>L(()=>import("./questionssubject4-wqTVpFT-.js"),[]),"../../assets/data/questionssubject5.json":()=>L(()=>import("./questionssubject5-C0v3SGCQ.js"),[]),"../../assets/data/questionssubject6.json":()=>L(()=>import("./questionssubject6-C-kb1Zzh.js"),[]),"../../assets/data/questionssubject7.json":()=>L(()=>import("./questionssubject7-nQi0dV5s.js"),[])}),`../../assets/data/questionssubject${i}.json`,5);E(h.default??[])}catch{E([])}}if(c.status==="fulfilled")X(c.value.name);else if(c.reason?.name!=="AbortError"){const h=Number(y),$=de.find(_=>_.id===h);X($?.name??`[Môn #${h}]`),g(_=>_??"Một số dữ liệu không tải được từ API.")}})().catch(r=>{r?.name!=="AbortError"&&g("Có lỗi không xác định!")}).finally(()=>T(!1)),()=>t.abort()};m.useEffect(()=>{K()},[]),m.useEffect(()=>{F.current||G.current?.scrollIntoView({behavior:"smooth",block:"start"})},[j]);const M=10,O=50;m.useRef(null);const S=p.length,w=Math.ceil(S/M),A=(j-1)*M,D=A+M,U=t=>t>=A&&t<D,Z=p.slice(A,D),z=Math.floor(A/O)*O,W=z+O,J=p.slice(z,W);new Set(Object.entries(a).filter(([,t])=>t!=null).map(([t])=>Number(t)));const Y=(t,i)=>i.split("|").some(r=>v(t)===v(r)),q=(t,i)=>{const r=Math.floor(t/M)+1;r!==j?(F.current=!0,C(r),setTimeout(()=>{document.getElementById(`q-${i}`)?.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{F.current=!1},300)},0)):document.getElementById(`q-${i}`)?.scrollIntoView({behavior:"smooth",block:"start"})},ee=m.useMemo(()=>{if(!d)return 0;let t=0;for(const i of p)if(i.questionType==="fill_in")i.options.length>0&&i.options.every(c=>{const h=n?.[c.id]??"";return Y(h,c.content)})&&(t+=1);else{const r=a[i.id],c=i.options.find(h=>h.isCorrect);r&&c&&r===c.id&&(t+=1)}return t},[d,p,a,n]),te=()=>{s({}),l({}),f({}),k(!1)},se=m.useMemo(()=>Object.values(a).filter(t=>t!=null).length,[a]);return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[e.jsxs("section",{className:"relative  overflow-hidden",children:[e.jsx("div",{className:"absolute  inset-0 bg-gradient-to-r from-emerald-600 via-green-600 to-emerald-500 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),e.jsxs("div",{className:"relative z-10 mx-auto flex max-w-7xl flex-col items-center gap-6 px-6 py-14 text-white md:flex-row md:justify-between",children:[e.jsxs(B.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:160,damping:18},children:[e.jsxs("div",{className:"mb-3 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold ring-1 ring-white/20 backdrop-blur",children:[e.jsx(ne,{className:"h-4 w-4"})," QuizUniverse • Làm trắc nghiệm"]}),e.jsxs("h1",{className:"text-[2rem] md:text-[2.6rem] font-black leading-tight",children:["Bộ câu hỏi ôn tập ",e.jsx("span",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-amber-500 bg-clip-text text-transparent",children:H})]}),e.jsx("p",{className:"mt-2 text-white/90",children:"Chọn đáp án cho từng câu. Nộp bài để xem điểm và lời giải."})]}),e.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05},className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"rounded-xl bg-white/10 px-4 py-2 text-sm ring-1 ring-white/20",children:["Tổng câu: ",e.jsx("b",{children:S})]}),e.jsxs("div",{className:"rounded-xl bg-white/10 px-4 py-2 text-sm ring-1 ring-white/20",children:["Trạng thái: ",e.jsx("b",{children:d?"Đã nộp":"Chưa nộp"})]}),e.jsxs("div",{className:"rounded-xl bg-white/10 px-4 py-2 text-sm ring-1 ring-white/20",children:["Đã làm: ",e.jsx("b",{children:se}),"/",S]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("main",{className:" mx-auto max-w-5xl px-6 py-10",children:[e.jsx("div",{ref:G}),e.jsx("div",{className:"mb-6 flex flex-wrap items-center gap-3",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mr-2 inline-flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-emerald-700 ring-1 ring-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-300 dark:ring-emerald-800",children:["Điểm: ",e.jsx("b",{children:ee}),"/",e.jsx("b",{children:S})]}),e.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 rounded-full bg-slate-800 px-5 py-2.5 text-white shadow hover:brightness-110 dark:bg-slate-700",children:["Làm lại ",e.jsx(ge,{className:"h-4 w-4"})]})]}):e.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-5 py-2.5 text-white shadow hover:brightness-110",children:["Nộp bài ",e.jsx(oe,{className:"h-4 w-4"})]})}),N?e.jsx(fe,{count:M}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-6",children:Z.map((t,i)=>e.jsx(Ne,{index:A+i+1,q:t,questionType:t.questionType,pickedOptionId:a[t.id]??null,onPick:r=>{s(c=>({...c,[t.id]:r})),f(c=>({...c,[t.id]:r}))},onClear:()=>{s(r=>({...r,[t.id]:null})),f(r=>({...r,[t.id]:null}))},showResult:d,answers:n,onFill:(r,c)=>{l(h=>({...h,[r]:c}))}},t.id))}),e.jsxs("div",{className:"my-5 flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>C(t=>Math.max(1,t-1)),disabled:j===1,className:"rounded-lg border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",title:"Trang trước",children:"← Trước"}),Array.from({length:w},(t,i)=>i+1).filter(t=>Math.abs(t-j)<=2||t===1||t===w).reduce((t,i,r,c)=>{if(r>0){const h=c[r-1];typeof h=="number"&&typeof i=="number"&&i-h>1&&t.push("…")}return t.push(i),t},[]).map((t,i)=>typeof t=="string"?e.jsx("span",{className:"px-2 text-slate-400",children:"…"},`ellipsis-${i}`):e.jsx("button",{onClick:()=>C(t),className:`rounded-lg px-3 py-1.5 text-sm font-medium border
              ${t===j?"bg-emerald-600 text-white border-emerald-600":"border-slate-200 text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800"}`,title:`Trang ${t}`,children:t},t)),e.jsx("button",{type:"button",onClick:()=>C(t=>Math.min(w,t+1)),disabled:j===w,className:"rounded-lg border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",title:"Trang sau",children:"Sau →"}),e.jsxs("div",{className:"ml-auto text-sm text-slate-600 dark:text-slate-300",children:["Trang ",e.jsx("b",{children:j}),"/",e.jsx("b",{children:w})," • Câu ",e.jsx("b",{children:A+1}),"–",e.jsx("b",{children:Math.min(D,S)})," / ",S]})]})]})]}),e.jsx("div",{className:"absolute right-5 top-10 w-fit h-full",children:e.jsxs("div",{className:"sticky top-20 w-fit",children:[!P&&e.jsx("button",{type:"button",onClick:()=>o(!0),className:" z-40 grid h-12 w-12 place-items-center rounded-full bg-emerald-600 text-white shadow-lg hover:brightness-110","aria-label":"Mở danh sách câu hỏi",title:"Danh sách câu hỏi",children:e.jsx(be,{className:"h-5 w-5"})}),P&&e.jsx("div",{className:"relative inset-0 z-50 h-3/4 my-auto bg-slate-50 dark:bg-slate-900",children:e.jsxs(B.div,{initial:{x:360},animate:{x:0},exit:{x:360},transition:{type:"tween",duration:.2},className:"right-0 top-0 h-full w-[320px] bg-white shadow-xl dark:bg-slate-900 border-l border-slate-200 dark:border-slate-800 p-4 flex flex-col",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Danh sách câu hỏi"}),e.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1 text-xs text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",onClick:()=>o(!1),children:"Đóng"})]}),e.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[e.jsx("span",{className:"inline-flex items-center gap-1 rounded-md border px-2 py-0.5 text-slate-600 dark:text-slate-300 border-slate-300 dark:border-slate-700",children:"Chưa làm"}),e.jsx("span",{className:"inline-flex items-center gap-1 rounded-md px-2 py-0.5 text-white bg-emerald-600",children:"Đã chọn"}),d&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-flex items-center gap-1 rounded-md px-2 py-0.5 text-white bg-emerald-500",children:"Đúng"}),e.jsx("span",{className:"inline-flex items-center gap-1 rounded-md px-2 py-0.5 text-white bg-rose-500",children:"Sai"})]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2 overflow-auto",children:J.map((t,i)=>{const r=z+i,c=r+1,h=a[t.id],$=h!=null;let _="";d&&$?_=t.options.find(ae=>ae.isCorrect)?.id===h?"bg-emerald-500 text-white":"bg-rose-500 text-white":$?_="bg-emerald-700 text-white ":_="border border-slate-300 text-slate-700 dark:text-slate-300 dark:border-slate-700";let Q=_;return Q==="border border-slate-300 text-slate-700 dark:text-slate-300 dark:border-slate-700"&&U(r)&&(Q="bg-neutral-200 dark:bg-neutral-500"),e.jsx("button",{onClick:()=>q(r,t.id),className:`h-8 rounded-md text-sm font-semibold  ${Q}  `,title:`Tới câu ${c}`,children:c},t.id)})}),e.jsx("div",{className:"mt-auto pt-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{onClick:()=>C(t=>Math.max(1,t-1)),disabled:j===1,className:"rounded-md border border-slate-200 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"← Trước"}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Trang ",e.jsx("b",{children:j}),"/",e.jsx("b",{children:w})]}),e.jsx("button",{onClick:()=>C(t=>Math.min(w,t+1)),disabled:j===w,className:"ml-auto rounded-md border border-slate-200 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"Sau →"})]})})]})})]})})]})]})}function Ne({index:a,q:s,questionType:n="mcq_single",pickedOptionId:l,onPick:d,onClear:k,showResult:b,answers:f,onFill:y}){const p=s.options.find(o=>o.isCorrect),E=b&&l&&p&&l===p.id,P=b&&l&&p&&l!==p.id;return n==="fill_in"&&b&&s.options.length>0&&s.options.every(o=>v(f?.[o.id]??"")===v(o.content)),e.jsxs(B.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{type:"spring",stiffness:140,damping:16},className:"relative rounded-2xl border border-emerald-100 bg-white p-5 shadow-sm hover:shadow-md dark:border-slate-800 dark:bg-slate-900",children:[e.jsx("div",{id:`q-${s.id}`,className:"absolute -top-24"}),n==="mcq_single"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between gap-3",children:[e.jsxs("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200",children:[e.jsx("span",{className:"mr-2 inline-flex h-6 w-6 items-center justify-center rounded-md bg-emerald-500/90 text-xs font-bold text-white",children:a}),e.jsx("span",{className:"whitespace-pre-line",children:s.stem})]}),b?E?e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-2 py-1 text-emerald-700 ring-1 ring-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:ring-emerald-800",children:[e.jsx(ce,{className:"h-4 w-4"})," Đúng"]}):P?e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-rose-100 px-2 py-1 text-rose-700 ring-1 ring-rose-300 dark:bg-rose-900/30 dark:text-rose-300 dark:ring-rose-800",children:[e.jsx(xe,{className:"h-4 w-4"})," Sai"]}):null:l!==null&&e.jsx("button",{type:"button",onClick:k,className:"rounded-lg border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",title:"Xóa lựa chọn của câu này",children:"Xóa lựa chọn"})]}),e.jsx("div",{className:"mt-3 grid gap-2",children:s.options.slice().sort((o,N)=>(o.sortOrder??0)-(N.sortOrder??0)).map(o=>e.jsx(we,{groupName:`q-${s.id}`,opt:o,checked:l===o.id,disabled:b,onChange:()=>d(o.id),reveal:b,isCorrect:o.isCorrect,isPicked:l===o.id},o.id))}),b&&s.explanation&&e.jsxs("div",{className:"mt-4 rounded-xl bg-amber-50 p-3 text-amber-900 ring-1 ring-amber-200 dark:bg-amber-900/20 dark:text-amber-200 dark:ring-amber-800",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Giải thích"}),e.jsx("p",{className:"mt-1 text-sm leading-relaxed",children:s.explanation})]})]}):n==="fill_in"?e.jsx(e.Fragment,{children:(()=>{const o=s.options.slice().sort((x,g)=>(x.sortOrder??0)-(g.sortOrder??0)),N=ye(s.stem);let T=0;return b&&N.some(x=>x.type==="blank")&&o.length>0&&N.filter(x=>x.type==="blank").every((x,g)=>{const u=o[g],I=f?.[u?.id??-1]??"";return u?v(I)===v(u.content):!1}),e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"whitespace-pre-wrap leading-relaxed text-slate-800 dark:text-slate-200",children:[e.jsx("span",{className:"mr-2 inline-flex h-6 w-6 items-center justify-center rounded-md bg-emerald-500/90 text-xs font-bold text-white",children:a}),N.map((x,g)=>{if(x.type==="text")return e.jsx("span",{children:x.text},`t-${g}`);{const u=o[T]??null,I=u?f?.[u.id]??"":f?.[-1]??"";return T++,e.jsx(_e,{opt:u,value:I,reveal:b,onChange:V=>{u&&y?.(u.id,V)}},`b-${g}`)}})]}),b&&N.filter(x=>x.type==="blank").length>o.length&&e.jsx("div",{className:"mt-3 text-xs text-amber-600 dark:text-amber-300",children:"Lưu ý: Số ô trống trong câu nhiều hơn số đáp án cung cấp."}),b&&e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 text-sm ring-1 ring-slate-200 dark:bg-slate-800/40 dark:ring-slate-700",children:[e.jsx("div",{className:"mb-1 font-semibold",children:"Đáp án"}),e.jsx("ul",{className:"list-disc space-y-0.5 pl-5",children:o.map(x=>{const g=f?.[x.id]??"",u=v(g)===v(x.content);return e.jsxs("li",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-slate-500 dark:text-slate-400 w-10 shrink-0",children:["Ô ",x.label,":"]}),e.jsx("span",{className:u?"text-emerald-700 dark:text-emerald-300":"text-rose-700 dark:text-rose-300",children:u?"Đúng":"Sai"}),!u&&e.jsxs("span",{className:"text-slate-700 dark:text-slate-200",children:[" → ",e.jsx("span",{className:"font-medium",children:x.content})]})]},x.id)})})]}),s.explanation&&e.jsxs("div",{className:"rounded-xl bg-amber-50 p-3 text-amber-900 ring-1 ring-amber-200 dark:bg-amber-900/20 dark:text-amber-200 dark:ring-amber-800",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Giải thích"}),e.jsx("p",{className:"mt-1 text-sm leading-relaxed",children:s.explanation})]})]})]})})()}):e.jsx(e.Fragment,{})]})}function we({opt:a,checked:s,disabled:n,onChange:l,reveal:d,isCorrect:k,isPicked:b,groupName:f}){const y=d?k?"correct":b?"wrong":"neutral":s?"active":"idle",p={idle:"border-slate-200 hover:border-emerald-300 dark:border-slate-700 dark:hover:border-emerald-700",active:"border-emerald-400 bg-emerald-50 ring-1 ring-emerald-300 dark:bg-emerald-900/20 dark:border-emerald-700 dark:ring-emerald-800",correct:"border-emerald-400 bg-emerald-50 ring-1 ring-emerald-300 dark:bg-emerald-900/20 dark:border-emerald-700 dark:ring-emerald-800",wrong:"border-rose-300 bg-rose-50 ring-1 ring-rose-300 dark:bg-rose-900/20 dark:border-rose-700 dark:ring-rose-800",neutral:"border-slate-200 dark:border-slate-700"};return e.jsxs("label",{className:`group flex cursor-pointer items-start gap-3 rounded-xl border p-3 transition ${p[y]}`,children:[e.jsx("input",{type:"radio",name:f,className:"mt-1 h-4 w-4 accent-emerald-800",checked:s,onChange:l,disabled:n}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-800 dark:text-slate-200",children:[e.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-md bg-slate-100 text-slate-700 group-hover:bg-emerald-100 group-hover:text-emerald-800 dark:bg-slate-800 dark:text-slate-300 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-300",children:a.label}),e.jsx("span",{children:a.content})]})})]})}function _e({opt:a,value:s,onChange:n,reveal:l}){const d=l&&a&&v(s)===v(a.content);return e.jsx("span",{className:["mx-1 my-1 inline-flex items-center rounded-lg px-2 py-1 align-baseline","min-w-[8ch] max-w-[50ch]","border transition",l?d?"border-emerald-300 bg-emerald-50 dark:border-emerald-800/60 dark:bg-emerald-900/10":"border-rose-300 bg-rose-50 dark:border-rose-800/60 dark:bg-rose-900/10":"border-slate-300 dark:border-slate-600"].join(" "),children:e.jsx("input",{type:"text","aria-label":a?`Điền ô ${a.label}`:"Ô trống",value:s,onChange:k=>n?.(k.target.value),disabled:l,placeholder:a?`Ô ${a.label}`:"Ô trống",className:"bg-transparent outline-none placeholder:text-slate-400 dark:placeholder:text-slate-500 font-semibold",style:{width:`${Math.min(50,Math.max(8,(s?.length??0)+1))}ch`}})})}export{Ie as default};
