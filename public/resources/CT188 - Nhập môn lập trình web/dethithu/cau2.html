<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style2.css">
</head>
<body>
    <main>
        <div class="header">
            <h1>Thông tin đăng ký</h1>
        </div>
        <div>
            <form action="/submit-form" method="POST" enctype="multipart/form-data" class="form" onsubmit="return checkValid()">
                <label for="MSSV">MSSV: </label>
                <input type="text" id="MSSV" name="MSSV" required><br>
                <label for="name">Họ tên: </label>
                <input type="text" id="name" name="name" required><br>
                <label for="gender">Giới tính: </label>
                <input type="radio" id="nam" name="gender" value="nam" required>
                <span><label for="nam">Nam</label></span>
                <input type="radio" id="nu" name="gender" value="nu" required>
                <span><label for="nu">Nữ</label><br></span>
                <label for="date">Ngày sinh: </label>
                <input type="date" id="date" name="date" required onchange="checkDate()"><br>
                <label for="quequan">Quê quán: </label>
                <textarea name="quequan" id="quequan" cols="20"></textarea><br>
                <label for="munber">SĐT: </label>
                <input type="munber" id="munber" name="munber" required><br>
                <label for="email">Email: </label>
                <input type="email" id="email" name="email" required><br>
                <label for="file">Ảnh đại diện: </label>
                <input type="file" name="file" id="file" accept="image/*" required><br>
                <label for="password">Mật khẩu: </label>
                <input type="password" id="password" name="password" required><br>
                <label for="password2">Nhập lại MK: </label>
                <input type="password" id="password2" name="password2" required><br>
                <label for=""></label>
                <input type="submit" value="Đăng ký">
                <input type="reset" value="Hủy"><br>
            
            </form>
        </div>
    </main>
    <script>
        function checkDate() {
            var dateInput = document.getElementById("date").value;
            var date = new Date(dateInput);
            var today = new Date();
            if (date > today) {
                alert("Ngày sinh không hợp lệ!");
                document.getElementById("date").value = ""; // Reset the input field
                document.getElementById("date").focus(); // Set focus back to the input field
            }
        }


        function checkDate(){
            var dateInput = document.getElementById("date").value;
            var date = new Date(dateInput);
            var today = new Date();
            if(date > today){
                alert("Ngày sinh không hợp lệ!");
                document.getElementById("date").value = ""; // Reset the input field
            }
        }



        function checkValid() {


            var mssv = document.getElementById("MSSV").value;
            if (mssv.length < 8) {
                alert("MSSV không hợp lệ!");
                return false;
            }
            if(mssv[0] !== 'B' && mssv[0] !== 'C'){
                alert("MSSV không hợp lệ!");
                return false;
            }
            var name = document.getElementById("name").value;
            if (name.length == 0) {
                alert("Họ tên không được để rỗng!");
                return false;
            }
            var gender = document.querySelector('input[name="gender"]:checked');
            if (!gender) {
                alert("Vui lòng chọn giới tính!");
                return false;
            }
            var quequan = document.getElementById("quequan").value;
            if (quequan.length == 0) {
                alert("Quê quán không được để rỗng!");
                return false;
            }
            var munber = document.getElementById("munber").value;
            if (munber.length != 10) {
                alert("Số điện thoại không hợp lệ!");
                return false;
            }


            var email = document.getElementById("email").value;
            var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
            if (!emailPattern.test(email)) {
                alert("Email không hợp lệ!");
                return false;
            }

            var password = document.getElementById("password").value;
            var passReg = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[#!?@$%^&*-]).{8,}$/g;
            if(passReg.test(password) == false){
                alert("Mật khẩu không hợp lệ!");
                return false;
            }
            

            var password2 = document.getElementById("password2").value;
            if (password !== password2) {
                alert("Mật khẩu không khớp!");
                return false;
            }
            return true;
        }

    </script>
</body>
</html>