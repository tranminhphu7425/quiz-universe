
CREATE TABLE KHACHHANG (
    MaKH NUMBER GENERATED ALWAYS AS IDENTITY,
    TenKH NVARCHAR2(100) NOT NULL,
    SoDienThoai VARCHAR2(15) NOT NULL,
    Email VARCHAR2(100),
    DiemTichLuy NUMBER DEFAULT 0
);
SELECT * FROM KHACHHANG;


CREATE TABLE SAN (
    MaSan NUMBER GENERATED ALWAYS AS IDENTITY,
    LoaiSan NVARCHAR2(50) NOT NULL,
    GiaThueGio NUMBER(12,2) NOT NULL,
    TrangThai NVARCHAR2(20) DEFAULT 'Trống'
);
SELECT * FROM SAN;


CREATE TABLE DATSAN (
    MaDatSan NUMBER GENERATED ALWAYS AS IDENTITY,
    MaKH NUMBER NOT NULL,
    MaSan NUMBER NOT NULL,
    ThoiGianBatDau TIMESTAMP NOT NULL,
    ThoiGianKetThuc TIMESTAMP NOT NULL,
    TongTien NUMBER(12,2) NOT NULL,
    TrangThaiThanhToan NUMBER(1) DEFAULT 0
);
SELECT * FROM DATSAN;


CREATE TABLE HOADON (
    MaHoaDon NUMBER GENERATED ALWAYS AS IDENTITY,
    MaDatSan NUMBER NOT NULL,
    NgayLap DATE DEFAULT SYSDATE NOT NULL,
    TongTien NUMBER(12,2) NOT NULL,
    TrangThai VARCHAR2(20) DEFAULT 'Chưa thanh toán' NOT NULL
);
SELECT * FROM HOADON;


CREATE TABLE THANHTOAN (
    MaThanhToan NUMBER GENERATED ALWAYS AS IDENTITY,
    MaHoaDon NUMBER NOT NULL,
    SoTienThanhToan NUMBER(12,2) NOT NULL,
    NgayThanhToan TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
SELECT * FROM THANHTOAN;

CREATE TABLE KHUYENMAI (
    MaKM NUMBER GENERATED ALWAYS AS IDENTITY,
    TenKM NVARCHAR2(100) NOT NULL,
    PhanTramGiam NUMBER NOT NULL,
    NgayBatDau DATE NOT NULL,
    NgayKetThuc DATE NOT NULL
);
SELECT * FROM KHUYENMAI;


CREATE TABLE LICHSUDAT (
    MaLichSu NUMBER GENERATED ALWAYS AS IDENTITY,
    MaKH NUMBER NOT NULL,
    MaSan NUMBER NOT NULL,
    ThoiGianBatDau TIMESTAMP NOT NULL,
    ThoiGianKetThuc TIMESTAMP NOT NULL,
    DaDanhGia NUMBER(1) DEFAULT 0
);
SELECT * FROM LICHSUDAT;




INSERT INTO KHACHHANG (TenKH, SoDienThoai, Email, DiemTichLuy)
VALUES 
('Nguyễn Văn An', '0912345678', 'nguyenvanan@gmail.com', 100),
('Trần Thị Bình', '0987654321', 'tranthibinh@yahoo.com', 50),
('Lê Hoàng Cường', '0978123456', 'lehoangcuong@gmail.com', 200),
('Phạm Thị Dung', '0965432187', 'phamthidung@gmail.com', 75),
('Vũ Minh Đức', '0932165498', 'vuminhduc@yahoo.com', 150),
('Đặng Thị Hương', '0945678321', 'dangthihuong@gmail.com', 25),
('Hoàng Văn Khải', '0918273645', 'hoangvankhai@gmail.com', 180),
('Ngô Thị Lan', '0981726354', 'ngothilan@yahoo.com', 90),
('Bùi Xuân Minh', '0974635281', 'buixuanminh@gmail.com', 120),
('Lý Thị Nga', '0963542718', 'lythinga@gmail.com', 60);






INSERT INTO SAN (LoaiSan, GiaThueGio, TrangThai)
VALUES 
('Sân thảm', 150000, 'Trống'),
('Sân gỗ', 200000, 'Trống'),
('Sân thảm', 150000, 'Đã đặt'),
('Sân gỗ', 200000, 'Bảo trì'),
('Sân thảm', 150000, 'Trống'),
('Sân gỗ', 200000, 'Đã đặt'),
('Sân thảm', 150000, 'Trống'),
('Sân gỗ', 200000, 'Trống'),
('Sân thảm', 150000, 'Đã đặt'),
('Sân gỗ', 200000, 'Trống');



INSERT INTO DATSAN (MaKH, MaSan, ThoiGianBatDau, ThoiGianKetThuc, TongTien, TrangThaiThanhToan)
VALUES 
(1, 1, TO_TIMESTAMP('2023-06-15 08:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-15 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), 300000, 1),
(2, 3, TO_TIMESTAMP('2023-06-15 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-15 12:00:00', 'YYYY-MM-DD HH24:MI:SS'), 300000, 0),
(3, 5, TO_TIMESTAMP('2023-06-16 14:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-16 16:00:00', 'YYYY-MM-DD HH24:MI:SS'), 300000, 1),
(4, 7, TO_TIMESTAMP('2023-06-16 16:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-16 18:00:00', 'YYYY-MM-DD HH24:MI:SS'), 300000, 0),
(5, 2, TO_TIMESTAMP('2023-06-17 09:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-17 11:00:00', 'YYYY-MM-DD HH24:MI:SS'), 400000, 1),
(6, 6, TO_TIMESTAMP('2023-06-17 13:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-17 15:00:00', 'YYYY-MM-DD HH24:MI:SS'), 400000, 0),
(7, 8, TO_TIMESTAMP('2023-06-18 08:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-18 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), 400000, 1),
(8, 10, TO_TIMESTAMP('2023-06-18 15:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-18 17:00:00', 'YYYY-MM-DD HH24:MI:SS'), 400000, 0),
(9, 1, TO_TIMESTAMP('2023-06-19 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-19 12:00:00', 'YYYY-MM-DD HH24:MI:SS'), 300000, 1),
(10, 3, TO_TIMESTAMP('2023-06-19 14:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-19 16:00:00', 'YYYY-MM-DD HH24:MI:SS'), 300000, 0);





INSERT INTO HOADON (MaDatSan, NgayLap, TongTien, TrangThai)
VALUES 
(1, TO_DATE('2023-06-14', 'YYYY-MM-DD'), 300000, 'Đã thanh toán'),
(2, TO_DATE('2023-06-14', 'YYYY-MM-DD'), 300000, 'Chưa thanh toán'),
(3, TO_DATE('2023-06-15', 'YYYY-MM-DD'), 300000, 'Đã thanh toán'),
(4, TO_DATE('2023-06-15', 'YYYY-MM-DD'), 300000, 'Chưa thanh toán'),
(5, TO_DATE('2023-06-16', 'YYYY-MM-DD'), 400000, 'Đã thanh toán'),
(6, TO_DATE('2023-06-16', 'YYYY-MM-DD'), 400000, 'Chưa thanh toán'),
(7, TO_DATE('2023-06-17', 'YYYY-MM-DD'), 400000, 'Đã thanh toán'),
(8, TO_DATE('2023-06-17', 'YYYY-MM-DD'), 400000, 'Chưa thanh toán'),
(9, TO_DATE('2023-06-18', 'YYYY-MM-DD'), 300000, 'Đã thanh toán'),
(10, TO_DATE('2023-06-18', 'YYYY-MM-DD'), 300000, 'Chưa thanh toán');





INSERT INTO THANHTOAN (MaHoaDon, SoTienThanhToan, NgayThanhToan)
VALUES 
(1, 300000, TO_TIMESTAMP('2023-06-14 15:30:00', 'YYYY-MM-DD HH24:MI:SS')),
(3, 300000, TO_TIMESTAMP('2023-06-15 10:15:00', 'YYYY-MM-DD HH24:MI:SS')),
(5, 200000, TO_TIMESTAMP('2023-06-16 09:00:00', 'YYYY-MM-DD HH24:MI:SS')),
(5, 200000, TO_TIMESTAMP('2023-06-16 14:30:00', 'YYYY-MM-DD HH24:MI:SS')),
(7, 400000, TO_TIMESTAMP('2023-06-17 11:20:00', 'YYYY-MM-DD HH24:MI:SS')),
(9, 150000, TO_TIMESTAMP('2023-06-18 13:45:00', 'YYYY-MM-DD HH24:MI:SS')),
(9, 150000, TO_TIMESTAMP('2023-06-18 16:00:00', 'YYYY-MM-DD HH24:MI:SS')),
(2, 100000, TO_TIMESTAMP('2023-06-19 10:30:00', 'YYYY-MM-DD HH24:MI:SS')),
(4, 150000, TO_TIMESTAMP('2023-06-19 14:15:00', 'YYYY-MM-DD HH24:MI:SS')),
(6, 200000, TO_TIMESTAMP('2023-06-20 09:45:00', 'YYYY-MM-DD HH24:MI:SS'));



INSERT INTO KHUYENMAI (TenKM, PhanTramGiam, NgayBatDau, NgayKetThuc)
VALUES 
('Giảm giá đầu hè', 10, TO_DATE('2023-06-01', 'YYYY-MM-DD'), TO_DATE('2023-06-30', 'YYYY-MM-DD')),
('Khách hàng thân thiết', 15, TO_DATE('2023-06-01', 'YYYY-MM-DD'), TO_DATE('2023-12-31', 'YYYY-MM-DD')),
('Giờ thấp điểm', 20, TO_DATE('2023-06-01', 'YYYY-MM-DD'), TO_DATE('2023-08-31', 'YYYY-MM-DD')),
('Ngày thể thao', 25, TO_DATE('2023-06-10', 'YYYY-MM-DD'), TO_DATE('2023-06-10', 'YYYY-MM-DD')),
('Combo tuần', 30, TO_DATE('2023-06-05', 'YYYY-MM-DD'), TO_DATE('2023-06-11', 'YYYY-MM-DD')),
('Sinh nhật', 50, TO_DATE('2023-06-15', 'YYYY-MM-DD'), TO_DATE('2023-06-15', 'YYYY-MM-DD')),
('Nhóm 4 người', 10, TO_DATE('2023-06-01', 'YYYY-MM-DD'), TO_DATE('2023-07-31', 'YYYY-MM-DD')),
('Đặt trước 3 ngày', 5, TO_DATE('2023-06-01', 'YYYY-MM-DD'), TO_DATE('2023-09-30', 'YYYY-MM-DD')),
('Gói tháng', 40, TO_DATE('2023-06-01', 'YYYY-MM-DD'), TO_DATE('2023-06-30', 'YYYY-MM-DD')),
('Ngày lễ', 15, TO_DATE('2023-06-28', 'YYYY-MM-DD'), TO_DATE('2023-06-28', 'YYYY-MM-DD'));



INSERT INTO LICHSUDAT (MaKH, MaSan, ThoiGianBatDau, ThoiGianKetThuc, DaDanhGia)
VALUES 
(1, 1, TO_TIMESTAMP('2023-05-10 08:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-10 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), 1),
(2, 3, TO_TIMESTAMP('2023-05-12 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-12 12:00:00', 'YYYY-MM-DD HH24:MI:SS'), 0),
(3, 5, TO_TIMESTAMP('2023-05-15 14:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-15 16:00:00', 'YYYY-MM-DD HH24:MI:SS'), 1),
(4, 7, TO_TIMESTAMP('2023-05-18 16:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-18 18:00:00', 'YYYY-MM-DD HH24:MI:SS'), 0),
(5, 2, TO_TIMESTAMP('2023-05-20 09:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-20 11:00:00', 'YYYY-MM-DD HH24:MI:SS'), 1),
(6, 6, TO_TIMESTAMP('2023-05-22 13:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-22 15:00:00', 'YYYY-MM-DD HH24:MI:SS'), 0),
(7, 8, TO_TIMESTAMP('2023-05-25 08:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-25 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), 1),
(8, 10, TO_TIMESTAMP('2023-05-28 15:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-28 17:00:00', 'YYYY-MM-DD HH24:MI:SS'), 0),
(9, 1, TO_TIMESTAMP('2023-05-30 10:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-05-30 12:00:00', 'YYYY-MM-DD HH24:MI:SS'), 1),
(10, 3, TO_TIMESTAMP('2023-06-01 14:00:00', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('2023-06-01 16:00:00', 'YYYY-MM-DD HH24:MI:SS'), 0);




