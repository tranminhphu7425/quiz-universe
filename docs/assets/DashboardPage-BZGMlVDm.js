import{c as N,u as v,r as o,j as e,m as h,h as w,L as n,B as m,F as b,H as x}from"./index-Ce5e44e_.js";import{L as y}from"./LoadingState-D4RQvFR_.js";import{f as k,a as F}from"./favoriteApi-qaRC2L0L.js";import{O as T,T as L,L as p}from"./OrbitingSkills-BwQMAHvI.js";import{C as S}from"./clock-D98V2X4K.js";import{F as B}from"./folder-plus-BqILktU-.js";import{T as C}from"./tag-P7qiqqHz.js";import{A as $}from"./arrow-right-CcevkmgL.js";import{T as q}from"./trash-2-D1NbYhkH.js";const A=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]],D=N("file-plus-2",A);function X(){const s=v(),[r,l]=o.useState(!1),[t,g]=o.useState([]),d=s?.user,u=localStorage.getItem("auth_token");o.useEffect(()=>{(async()=>{try{const i=await k(d?.id,u);g(i)}catch(i){console.error(i)}})()},[]),o.useEffect(()=>{console.log("Favorite subjects updated:",t)},[t]);async function j(a){try{await F.delete(`/subjects/${a.id}/favorite?userId=${d?.id}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}}),g(i=>i.filter(f=>f.id!==a.id))}catch(i){console.error("Failed to remove favorite:",i)}}return e.jsxs("div",{className:"relative z-9 min-h-screen bg-slate-50 dark:bg-slate-900",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 via-green-600 to-emerald-500 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"}),e.jsx(T,{}),e.jsx("div",{className:"pointer-events-none absolute -left-24 -top-24 h-72 w-72 rounded-full bg-white/10 blur-2xl dark:bg-emerald-400/10"}),e.jsx("div",{className:"pointer-events-none absolute -right-16 top-10 h-64 w-64 rounded-full bg-white/10 blur-2xl dark:bg-purple-400/10"}),e.jsxs("div",{className:"relative z-10 mx-auto flex max-w-7xl flex-col items-center gap-8 px-6 py-14 md:flex-row md:justify-between",children:[e.jsxs(h.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:160,damping:18},children:[e.jsxs("div",{className:"mb-3 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold ring-1 ring-white/20 backdrop-blur",children:[e.jsx(w,{className:"h-4 w-4"})," B·∫£ng ƒëi·ªÅu khi·ªÉn"]}),e.jsx(L,{text:`Xin ch√†o${d?.name?`, ${d.name}`:"!"} üëã`,className:"text-[2rem] md:text-[2.4rem] font-black leading-tight text-white"}),e.jsx("p",{className:"mt-1 max-w-xl text-white/90",children:"T√≥m t·∫Øt nhanh nh·ªØng b·ªô c√¢u h·ªèi b·∫°n y√™u th√≠ch v√† b·∫°n ƒë√£ t·∫°o."})]}),e.jsxs(h.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{delay:.05},className:"flex flex-wrap items-center gap-3",children:[e.jsxs(n,{to:"/subjects",className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-sm text-white ring-1 ring-white/30 hover:bg-white/15 dark:bg-white/5 dark:ring-white/10",children:[e.jsx(m,{className:"h-4 w-4"})," Duy·ªát m√¥n h·ªçc"]}),e.jsxs(n,{to:"/app/questions/create",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-5 py-2 text-sm font-semibold text-emerald-950 shadow hover:brightness-105",children:[e.jsx(D,{className:"h-4 w-4"})," T·∫°o b·ªô c√¢u h·ªèi"]})]}),e.jsx(b,{distance:12,duration:7,className:"pointer-events-none absolute top-6 left-6",children:e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-amber-300 to-rose-300 px-3 py-1 shadow-lg -rotate-6",children:e.jsx("span",{className:"text-xs font-black text-rose-700",children:"DASH"})})}),e.jsx(b,{distance:10,duration:6,className:"pointer-events-none absolute top-6 right-8",children:e.jsx("div",{className:"rounded-full bg-gradient-to-br from-purple-400 to-indigo-400 p-3 shadow-xl rotate-12",children:e.jsx(x,{className:"h-4 w-4 text-white"})})})]})]}),e.jsx("section",{className:"relative z-9 mx-auto max-w-7xl px-6 mt-6",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(c,{icon:e.jsx(x,{className:"h-4 w-4"}),label:"Y√™u th√≠ch",value:t.length,hint:"b·ªô c√¢u h·ªèi"}),e.jsx(c,{icon:e.jsx(p,{className:"h-4 w-4"}),label:"C·ªßa t√¥i",value:1,hint:"b·ªô c√¢u h·ªèi"}),e.jsx(c,{icon:e.jsx(m,{className:"h-4 w-4"}),label:"T·ªïng s·ªë c√¢u",value:1,hint:"∆∞·ªõc t√≠nh"}),e.jsx(c,{icon:e.jsx(S,{className:"h-4 w-4"}),label:"Ho·∫°t ƒë·ªông",value:new Date().toLocaleDateString(),hint:"ng√†y c·∫≠p nh·∫≠t"})]})}),e.jsx("main",{className:"relative mx-auto max-w-7xl px-6 py-10",children:r?e.jsx(y,{count:6}):e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("section",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[e.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-base font-bold text-emerald-900 dark:text-emerald-200 inline-flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4"})," B·ªô c√¢u h·ªèi y√™u th√≠ch"]}),e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[t.length," m·ª•c"]})]}),t.length===0?e.jsx(H,{title:"Ch∆∞a c√≥ b·ªô c√¢u h·ªèi y√™u th√≠ch",desc:"H√£y ƒë√°nh d·∫•u ‚ô• ·ªü danh s√°ch ƒë·ªÅ ho·∫∑c c√¢u h·ªèi ƒë·ªÉ l∆∞u t·∫°i ƒë√¢y.",action:e.jsxs(n,{to:"/subjects",className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-3 py-1.5 text-sm text-white hover:brightness-110",children:[e.jsx(m,{className:"h-4 w-4"})," Duy·ªát m√¥n"]})}):e.jsx("ul",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:t.map(a=>e.jsx("li",{className:"py-3",children:e.jsx(E,{s:a,onRemove:()=>j(a),primaryAction:{to:a.id?`/questions/subject/${a.id}`:"#",label:"L√†m ngay"}})},a.id))})]}),e.jsx("section",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:e.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-base font-bold text-emerald-900 dark:text-emerald-200 inline-flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4"})," B·ªô c√¢u h·ªèi c·ªßa t√¥i"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(n,{to:"/app/questions/create",className:"inline-flex items-center gap-2 rounded-full bg-yellow-400 px-3 py-1.5 text-xs font-semibold text-emerald-950 shadow hover:brightness-105",children:[e.jsx(B,{className:"h-4 w-4"})," T·∫°o m·ªõi"]})})]})})]})})]})}function c({icon:s,label:r,value:l,hint:t}){return e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:140,damping:16},className:"rounded-2xl border border-white/40 bg-white/80 p-4 shadow-sm backdrop-blur-md dark:border-slate-700 dark:bg-slate-900/60",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"grid h-9 w-9 place-items-center rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200",children:s}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:r}),e.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:l}),t&&e.jsx("div",{className:"text-[11px] text-slate-400 dark:text-slate-500",children:t})]})]})})}function H({title:s,desc:r,action:l}){return e.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 p-6 text-center dark:border-slate-700",children:[e.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:s}),e.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:r}),l&&e.jsx("div",{className:"mt-3",children:l})]})}function E({s,onRemove:r,primaryAction:l,removableLabel:t="B·ªè kh·ªèi y√™u th√≠ch"}){return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"grid h-9 w-9 place-items-center rounded-lg bg-emerald-50 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200",children:e.jsx(p,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"truncate text-sm font-semibold text-slate-800 dark:text-slate-100",children:s.name}),s.name&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-emerald-100 px-2 py-0.5 text-[11px] font-medium text-emerald-800 ring-1 ring-emerald-200 dark:bg-emerald-500/20 dark:text-emerald-100 dark:ring-emerald-800",children:[e.jsx(C,{className:"h-3 w-3"})," ",s.code]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l&&e.jsxs(n,{to:s.id?`/questions/subject/${s.id}`:"#",className:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1.5 text-xs text-white hover:brightness-110",children:[l.label," ",e.jsx($,{className:"h-3.5 w-3.5"})]}),r&&e.jsxs("button",{onClick:r,className:"inline-flex items-center gap-1 rounded-full bg-rose-50 px-3 py-1.5 text-xs text-rose-700 ring-1 ring-rose-200 hover:bg-rose-100 dark:bg-rose-900/20 dark:text-rose-300 dark:ring-rose-800",children:[e.jsx(q,{className:"h-3.5 w-3.5"})," ",t]})]})]})]})}export{X as default};
