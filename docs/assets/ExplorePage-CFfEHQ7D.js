import{c as k,r as n,j as e,m as p,R as F,l as H,A as P,J as S}from"./index-Doop3tdh.js";import{S as q}from"./search-KBZbIEkc.js";import{C as A}from"./calendar-_c4wp8GV.js";import{F as E}from"./file-text-DOb3v3ub.js";import{C as I}from"./clock-CYA6rtBF.js";import{D as _}from"./download-B3nB2yAo.js";const O=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],R=k("arrow-down-wide-narrow",O);const B=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],Q=k("arrow-up-narrow-wide",B);const U=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],W=k("grid-3x3",U);const K=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],V=k("house",K);const G=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],J=k("list",G);function se(){const[o,f]=n.useState([]),[c,x]=n.useState(""),[l,m]=n.useState(""),[T,y]=n.useState([]),[h,w]=n.useState([""]),[d,j]=n.useState("grid"),[i,v]=n.useState("name-asc");n.useEffect(()=>{fetch("/quiz-universe//files.json").then(t=>t.json()).then(t=>{f(t.folders),y(t.folders)})},[]);const g=t=>{m(t);const a=h.indexOf(t);if(w(a===-1?[...h,t]:h.slice(0,a+1)),!t){y(o);return}const r=(L,C)=>{for(const u of L){if(u.path===C&&u.children)return u.children;if(u.children){const $=r(u.children,C);if($)return $}}return null},s=r(o,t);y(s||o)},D=()=>{if(h.length>1){const t=[...h];t.pop();const a=t[t.length-1];w(t),g(a)}},b=(t=>{const a=[...t];return a.sort((r,s)=>{if(r.type==="folder"&&s.type!=="folder")return-1;if(r.type!=="folder"&&s.type==="folder")return 1;switch(i){case"name-asc":return r.name.localeCompare(s.name);case"name-desc":return s.name.localeCompare(r.name);case"type":return r.type===s.type?r.name.localeCompare(s.name):r.type.localeCompare(s.type);case"date":return r.lastModified&&s.lastModified?new Date(s.lastModified).getTime()-new Date(r.lastModified).getTime():0;default:return 0}}),a})(T.filter(t=>t.name.toLowerCase().includes(c.toLowerCase()))),N=()=>{if(!l)return[];const t=l.split("/").filter(s=>s),a=[];let r="";for(const s of t)r=r?`${r}/${s}`:`/${s}`,a.push({name:s,path:r});return a},M=t=>({pdf:{icon:"üìï",color:"text-red-500"},docx:{icon:"üìò",color:"text-blue-500"},doc:{icon:"üìò",color:"text-blue-500"},jpg:{icon:"üñºÔ∏è",color:"text-purple-500"},png:{icon:"üñºÔ∏è",color:"text-purple-500"},rar:{icon:"üì¶",color:"text-orange-500"},zip:{icon:"üì¶",color:"text-orange-500"},cdm:{icon:"üóÑÔ∏è",color:"text-cyan-500"},cdb:{icon:"üóÑÔ∏è",color:"text-cyan-500"},bpm:{icon:"üìä",color:"text-green-500"},bpb:{icon:"üìä",color:"text-green-500"},pdm:{icon:"üóÉÔ∏è",color:"text-indigo-500"},pdb:{icon:"üóÉÔ∏è",color:"text-indigo-500"},ldm:{icon:"üóÇÔ∏è",color:"text-pink-500"},ldb:{icon:"üóÇÔ∏è",color:"text-pink-500"},sws:{icon:"üíº",color:"text-yellow-500"}})[t.toLowerCase()]||{icon:"üìÑ",color:"text-slate-500"};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-emerald-50 dark:from-slate-900 dark:to-gray-900",children:[e.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-600 via-green-600 to-emerald-500 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-6 py-16 text-center",children:[e.jsx(p.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:120,damping:18},className:"text-5xl font-black text-white mb-4",children:"üìÇ Tr√¨nh duy·ªát t√†i nguy√™n"}),e.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Kh√°m ph√° v√† m·ªü t√†i li·ªáu t·ª´ c√°c h·ªçc ph·∫ßn m·ªôt c√°ch d·ªÖ d√†ng"}),e.jsxs(p.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative max-w-2xl mx-auto",children:[e.jsx(q,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-emerald-500"}),e.jsx("input",{type:"text",placeholder:"T√¨m ki·∫øm t√†i li·ªáu, th∆∞ m·ª•c...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-300",value:c,onChange:t=>x(t.target.value)})]})]})]}),e.jsx("div",{className:"sticky top-12 z-20 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"mx-auto max-w-7xl px-6 py-3",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>j("grid"),className:`p-2 rounded-md transition-colors ${d==="grid"?"bg-white dark:bg-slate-600 shadow-sm":"hover:bg-white/50 dark:hover:bg-slate-600/50"}`,children:e.jsx(W,{className:`h-4 w-4 ${d==="grid"?"text-emerald-600":"text-slate-500"}`})}),e.jsx("button",{onClick:()=>j("list"),className:`p-2 rounded-md transition-colors ${d==="list"?"bg-white dark:bg-slate-600 shadow-sm":"hover:bg-white/50 dark:hover:bg-slate-600/50"}`,children:e.jsx(J,{className:`h-4 w-4 ${d==="list"?"text-emerald-600":"text-slate-500"}`})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"S·∫Øp x·∫øp:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>v(i==="name-asc"?"name-desc":"name-asc"),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${i.startsWith("name")?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-400"}`,children:[i==="name-asc"?e.jsx(Q,{className:"h-3 w-3"}):e.jsx(R,{className:"h-3 w-3"}),"T√™n"]}),e.jsx("button",{onClick:()=>v("type"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${i==="type"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-400"}`,children:"Lo·∫°i"}),e.jsxs("button",{onClick:()=>v("date"),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${i==="date"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-400"}`,children:[e.jsx(A,{className:"h-3 w-3"}),"Ng√†y"]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[b.length," m·ª•c"]})]})})}),e.jsx("div",{className:"sticky top-0 z-30 bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700 shadow-sm",children:e.jsx("div",{className:"mx-auto max-w-7xl px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1 min-w-0",children:[e.jsxs("button",{onClick:()=>g(""),className:"flex items-center gap-1 text-sm text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 shrink-0",children:[e.jsx(V,{className:"h-4 w-4"}),"Trang ch·ªß"]}),N().map((t,a)=>e.jsxs(F.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 text-slate-400 shrink-0"}),e.jsx("button",{onClick:()=>g(t.path),className:`text-sm truncate max-w-[150px] sm:max-w-[200px] shrink-0 ${a===N().length-1?"font-semibold text-emerald-700 dark:text-emerald-300":"text-slate-600 dark:text-slate-400 hover:text-emerald-600"}`,title:t.name,children:t.name})]},t.path))]}),h.length>1&&e.jsx("button",{onClick:D,className:"ml-2 text-sm text-slate-600 dark:text-slate-400 hover:text-emerald-600 flex items-center gap-1 shrink-0",children:"‚Üê Quay l·∫°i"})]})})}),e.jsx("main",{className:"mx-auto max-w-7xl px-6 py-8",children:e.jsx(P,{mode:"wait",children:b.length>0?e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"transition-all duration-300",children:d==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map((t,a)=>e.jsx(z,{item:t,viewMode:d,getFileIcon:M,onClick:()=>{t.type==="folder"?(g(t.path),x("")):window.open(t.link,"_blank")}},a))}):e.jsx("div",{className:"space-y-2",children:b.map((t,a)=>e.jsx(z,{item:t,viewMode:d,getFileIcon:M,onClick:()=>{t.type==="folder"?g(t.path):window.open(t.link,"_blank")}},a))})},d+i):e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[e.jsx(E,{className:"h-16 w-16 text-slate-300 dark:text-slate-700 mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-slate-500 dark:text-slate-400",children:c?"Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ ph√π h·ª£p":"ƒêang t·∫£i d·ªØ li·ªáu..."}),c&&e.jsx("button",{onClick:()=>x(""),className:"mt-4 text-emerald-600 dark:text-emerald-400 hover:text-emerald-700",children:"X√≥a t√¨m ki·∫øm"})]})})})]})}function z({item:o,viewMode:f,getFileIcon:c,onClick:x}){const l=o.type==="folder",m=c(o.type);return f==="grid"?e.jsx(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{y:-4,transition:{duration:.2}},onClick:x,className:`group cursor-pointer rounded-xl p-4 transition-all duration-300 ${l?"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-emerald-900/10 border border-emerald-200 dark:border-emerald-800 hover:border-emerald-300 dark:hover:border-emerald-700 hover:shadow-lg":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-emerald-300 dark:hover:border-emerald-700 hover:shadow-md"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`text-2xl ${l?"":m.color}`,children:l?"üìÅ":m.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 truncate group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:o.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${l?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:l?"Th∆∞ m·ª•c":o.type.toUpperCase()}),!l&&o.lastModified&&e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"}),new Date(o.lastModified).toLocaleDateString()]})]})]}),l?e.jsx(S,{className:"h-5 w-5 text-slate-400 group-hover:text-emerald-500 group-hover:translate-x-1 transition-all"}):e.jsx(_,{className:"h-4 w-4 text-slate-400 group-hover:text-emerald-500"})]})}):e.jsx(p.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{x:4,transition:{duration:.2}},onClick:x,className:`group cursor-pointer rounded-lg p-4 transition-all duration-300 ${l?"bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/10 dark:to-emerald-900/5 border border-emerald-100 dark:border-emerald-800/50 hover:border-emerald-300 dark:hover:border-emerald-700":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-emerald-300 dark:hover:border-emerald-700"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`text-2xl ${l?"":m.color} flex-shrink-0`,children:l?"üìÅ":m.icon}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-slate-800 dark:text-slate-200 truncate group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:o.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${l?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:l?"Th∆∞ m·ª•c":o.type.toUpperCase()}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 truncate max-w-[200px]",children:o.path})]})]}),e.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[o.lastModified&&e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1 whitespace-nowrap",children:[e.jsx(I,{className:"h-3 w-3"}),new Date(o.lastModified).toLocaleDateString()]}),l?e.jsx(S,{className:"h-5 w-5 text-slate-400 group-hover:text-emerald-500 transition-colors"}):e.jsx(_,{className:"h-4 w-4 text-slate-400 group-hover:text-emerald-500 transition-colors"})]})]})})]})})}export{se as default};
